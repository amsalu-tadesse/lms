{% extends 'base.html.twig' %}

{% block title %}
	{% trans %}StudentCourse index{% endtrans %}
{% endblock %}
{% block breadcrumbhome %}
	{% trans %}Course registration request{% endtrans %}
{% endblock %}
{% block breadcrumbcontent %}
	{% trans %}list{% endtrans %}
{% endblock %}

{% block body %}




<div class="row">
          <div class="col-md-12">
            <div class="card card-primary card-tabs">
              <div class="card-header p-0 pt-1">
                <ul class="nav nav-tabs" id="custom-tabs-five-tab" role="tablist">
                  <li class="nav-item">
                    <a class="nav-link active" id="custom-tabs-five-overlay-tab" data-toggle="pill" href="#custom-tabs-five-overlay" role="tab" aria-controls="custom-tabs-five-overlay" aria-selected="true">New Requests</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" id="custom-tabs-five-normal-dark-tab" data-toggle="pill" href="#custom-tabs-five-overlay-dark" role="tab" aria-controls="custom-tabs-five-overlay-dark1" aria-selected="false">Approved Requests</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" id="custom-tabs-five-normal-tab" data-toggle="pill" href="#custom-tabs-five-normal" role="tab" aria-controls="custom-tabs-five-normal" aria-selected="false">Rejected Requests</a>
                  </li>
                </ul>
              </div>
              <div class="card-body">
                <div class="tab-content" id="custom-tabs-five-tabContent">
                  <div class="tab-pane fade active show" id="custom-tabs-five-overlay" role="tabpanel" aria-labelledby="custom-tabs-five-overlay-tab">
                    <div class="overlay-wrapper">

                      <table class="table ">
				<thead>
					<tr>
						<th>Id</th>
						<th>{% trans %}Student{% endtrans %}</th>
						<th>{% trans %}Date{% endtrans %}</th>
						<th>{% trans %}Actions{% endtrans %}</th>
					</tr>
				</thead>
				<tbody>
                    {% for student_course in student_courses | filter (a=>a.status == 0) %}
						<tr>
							<td>{{ loop.index }}</td>
							<td>{{ student_course.student }}</td>
							<td>{{ student_course.createdAt ? student_course.createdAt|date('Y-m-d H:i:s') : '' }}</td>


							<td>
								<a href="#" data-toggle="modal" data-target="#modal-delete{{student_course.id}}">
									<i class="btn btn-success btn-sm">Accept</i>
								</a>

								<div class="modal fade" id="modal-delete{{student_course.id}}">
									<div class="modal-dialog">
										<div class="modal-content">
											<div class="modal-header">
												<h4 class="modal-title text-bold text-green">Registering a student</h4>
												<button type="button" class="close btn btn-primary" data-dismiss="modal" aria-label="Close">
													<span aria-hidden="true">&times;</span>
												</button>
											</div>

											<form id="undo_course_request_form{{student_course.id}}" action="{{path('course_request_deactivate',{id:student_course.id})}}" class="form" method="POST">
												<div class="modal-body">

													<div class="form-group text-blue">
														Are you sure you want to register
														<u> {{student_course.student}}
														</u>
														for the course {{student_course.instructorCourse.course}}
														?
													</div>

												</div>
												<div class="modal-footer justify-content-between">
													<button type="button" class="btn btn-warning" data-dismiss="modal">NO</button>

													<button onclick="" type="submit" id="paynow" class="btn btn-success">
														<i class="fa fa-arrow-alt-circle-right m-1"></i>Yes
													</button>
												</div>
											</form>
										</div>
										<!-- /.modal-content -->
									</div>
									<!-- /.modal-dialog -->
								</div 

                             

							</td>


						</tr>
					{% else %}
						<tr>
							<td colspan="6">{% trans %}No records found{% endtrans %}</td>
						</tr>
					{% endfor %}
				</tbody>
			</table>
        <div class="  pagination justify-content-center "> {{ knp_pagination_render(student_courses) }}</div>

		<div class="float-right pl-5 pb-2">

			{% trans %}Total result{% endtrans %}: {{ student_courses.getTotalItemCount }}
		</div>






                    </div>
                  </div>
                  <div class="tab-pane fade" id="custom-tabs-five-overlay-dark" role="tabpanel" aria-labelledby="custom-tabs-five-overlay-dark-tab">
                    <div class="overlay-wrapper">
                      
                    <table class="table ">
                    <thead>
                        <tr>
                            <th>Id</th>
                            <th>{% trans %}Student{% endtrans %}</th>
                            <th>{% trans %}Date{% endtrans %}</th>
                            {# <th>{% trans %}Status{% endtrans %}</th> #}
    
    
                           
                        </tr>
                    </thead>
                    <tbody>
                     
                        {% for student_course in student_courses | filter (a=>a.status == 1) %}
                            <tr>
                                <td>{{ loop.index }}</td>
                                <td>{{ student_course.student }}</td>
                                <td>{{ student_course.createdAt ? student_course.createdAt|date('Y-m-d H:i:s') : '' }}</td>
                            </tr>
                        {% else %}
                            <tr>
                                <td colspan="6">{% trans %}No records found{% endtrans %}</td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>

           


                    </div>
                  </div>
                  <div class="tab-pane fade" id="custom-tabs-five-normal" role="tabpanel" aria-labelledby="custom-tabs-five-normal-tab">
                   




                  <table class="table ">
                  <thead>
                      <tr>
                          <th>Id</th>
                          <th>{% trans %}Student{% endtrans %}</th>
                          <th>{% trans %}Date{% endtrans %}</th>
                          <th>{% trans %}Actions{% endtrans %}</th>
                      </tr>
                  </thead>
                  <tbody>
                      {% for student_course in student_courses | filter (a=>a.status == 0) %}
                          <tr>
                              <td>{{ loop.index }}</td>
                              <td>{{ student_course.student }}</td>
                              <td>{{ student_course.createdAt ? student_course.createdAt|date('Y-m-d H:i:s') : '' }}</td>
  
                          </tr>
                      {% else %}
                          <tr>
                              <td colspan="6">{% trans %}No records found{% endtrans %}</td>
                          </tr>
                      {% endfor %}
                  </tbody>
              </table>



            <div class="  pagination justify-content-center "> {{ knp_pagination_render(student_courses) }}</div>

            <div class="float-right pl-5 pb-2">
    
                {% trans %}Total result{% endtrans %}: {{ student_courses.getTotalItemCount }}
            </div>







                  </div>
                </div>
              </div>
              <!-- /.card -->
            </div>
          </div>
        </div>



{% endblock %}
