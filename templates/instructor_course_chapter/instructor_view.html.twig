{% extends 'base.html.twig' %}

{% block title %}{% trans %}Course assignement {% endtrans %}
{% endblock %}
{% block breadcrumbcontent %}
	{% trans %}Course list{% endtrans %}
{% endblock %}
{% block body %}
	{# <a href="{{ path('instructor_course_new') }}" class="btn btn-success mb-4">Re use course</a> #}

	<div class="card card-info">
		<div class="card card-header">
			<h3>{% trans %}Course assignement {% endtrans %}</h3>
		</div>
		<div class="card card-body">
			<table class="table">
				<thead>
					<tr>
						<th>Id</th>
						<th>Course</th>
						{# <th>Instructor</th> #}
						<th>{% trans %}Assign date{% endtrans %}</th>
						{# <th>Status</th> #}
						{# <th>Active</th> #}
						<th>Students</th>
							{% if is_granted('chapter_list') or is_granted('content_list') or is_granted('quiz_list') %}

						<th>actions</th> 
							{% endif %}
					</tr>
				</thead>
				<tbody>
					{% for instructor_course in instructor_courses %}
						<tr>
							<td>{{ loop.index }}</td>
							<td>{{ instructor_course.course | capitalize}}</td>
						

							<td>{{ instructor_course.createdAt ? instructor_course.createdAt|date('Y-m-d H:i:s') : '' }}</td>
							{# <td> {{ instructor_course.status }}</td> #}
							{# <td> {{ instructor_course.active ? "YES" : "NO" }}</td> #}

							<td>
								<a href="{{ path('students_in_course',{id:instructor_course.id}) }}">
									<span class="badge badge-success">
										&nbsp; {{ instructor_course.studentCourses | length  }}
										&nbsp;</span>
								</a>


							</td>
							<td>

								{% if is_granted('chapter_list') %}
								
								<a href="{{ path('instructor_course_chapter_content_list', {'id': instructor_course.id}) }}" class="btn btn-primary btn-sm">
									<span class="fa fa-plus"></span>
									{% trans %}Chapters{% endtrans %}
								</a>
							{% endif %}
							{% if is_granted('content_list') %}
								<a href="{{ path('content_index', {'id': instructor_course.id}) }}" class="btn btn-success btn-sm">
									<span class="fa fa-plus"></span>
									Contents
								</a>
							{% endif %}
							{% if is_granted('quiz_list') %}
								<a href="{{ path('quiz_index', {'id': instructor_course.id}) }}" class="btn btn-success btn-sm">
									<span class="fa fa-plus"></span>
									Quiz
								</a>
							{% endif %}

							</td>
						</tr>
					{% else %}
						<tr>
							<td colspan="4"> {% trans %}no records found{% endtrans %}</td>
						</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>
	</div>


{% endblock %}
